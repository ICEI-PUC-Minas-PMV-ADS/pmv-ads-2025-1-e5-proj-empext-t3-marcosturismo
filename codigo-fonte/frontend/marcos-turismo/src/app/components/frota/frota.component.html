
<!-- Bot√£o para abrir o modal -->
<button id="openModalBtn" class="add-btn" (click)="abrirModal()">+</button>

<!-- HTML -->

<app-sidebar></app-sidebar>
<button class="add-btn" (click)="abrirModal()">+</button>

<div class="modal" [style.display]="modalAberto ? 'flex' : 'none'">
  <div class="card">
    
    <!-- Grupo: Campos de texto -->
    <div class="input-group">
      <input type="text" [(ngModel)]="numeracao" placeholder="Numera√ß√£o">
      <input type="text" [(ngModel)]="modelo" placeholder="Modelo">
      <input type="text" [(ngModel)]="marca" placeholder="Marca">
      <input type="text" [(ngModel)]="anoModelo" placeholder="Ano Modelo">
      <input type="number" [(ngModel)]="kmAtual" placeholder="KM Atual">
    </div>

    <!-- Grupo: Selects -->
    <div class="select-group">
      <select [(ngModel)]="situacao">
        <option value="Ativo">Ativo</option>
        <option value="Inativo">Inativo</option>
        <option value="Manutencao">Manuten√ß√£o</option>
      </select>
      <input type="text" [(ngModel)]="placa" placeholder="Placa">
      <input type="number" [(ngModel)]="lotacao" placeholder="Lota√ß√£o">
      <select [(ngModel)]="categoria">
        <option value="Rodoviario">Rodovi√°rio</option>
        <option value="Urbano">Urbano</option>
      </select>
    </div>

    <!-- Grupo: Checkbox de opcionais -->
    <div class="checkbox-group">
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="arCondicionado">
        <span>Ar Condicionado</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="wifi">
        <span>Wi-Fi</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="poltronaReclinavel">
        <span>Poltrona Reclin√°vel</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="tv">
        <span>TV</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="geladeira">
        <span>Geladeira</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="sanitarios">
        <span>Sanit√°rios</span>
      </div>
    </div>

    <!-- Grupo: Imagem -->
    <div class="image-container" (click)="fileInput.click()">
      <img [src]="imagemPreview || 'assets/imagens/sem-imagem.jpg'" alt="Inserir imagem">
      <input type="file" #fileInput (change)="selecionarImagem($event)" accept="image/*" hidden>
    </div>

    <!-- Grupo: Bot√µes -->
    <div class="buttons">
      <button class="btn green" (click)="gerarCard()">Salvar</button>
      <button class="btn red" (click)="fecharModal()">Cancelar</button>
    </div>

  </div>
</div>
<div class="cards-container">
  <div class="veiculo-card" *ngFor="let veiculo of cardsGerados; let i = index">
    <img [src]="veiculo.imagem || 'assets/imagens/sem-imagem.jpg'" alt="Imagem do ve√≠culo" class="veiculo-img">
    
    <div class="veiculo-info">
      <h3>{{ veiculo.modelo }} - {{ veiculo.marca }}</h3>
      <p><strong>Numera√ß√£o:</strong> {{ veiculo.numeracao }}</p>
      <p><strong>Ano Modelo:</strong> {{ veiculo.anoModelo }}</p>
      <p><strong>KM Atual:</strong> {{ veiculo.kmAtual }}</p>
      <p><strong>Situa√ß√£o:</strong> {{ veiculo.situacao }}</p>
      <p><strong>Placa:</strong> {{ veiculo.placa }}</p>
      <p><strong>Lota√ß√£o:</strong> {{ veiculo.lotacao }}</p>
      <p><strong>Categoria:</strong> {{ veiculo.categoria }}</p>
      <p><strong>Opcionais:</strong>
        <span *ngIf="veiculo.arCondicionado">‚ùÑ Ar Condicionado </span>
        <span *ngIf="veiculo.wifi">üì∂ Wi-Fi </span>
        <span *ngIf="veiculo.poltronaReclinavel">üí∫ Poltrona </span>
        <span *ngIf="veiculo.tv">üì∫ TV </span>
        <span *ngIf="veiculo.geladeira">üßä Geladeira </span>
        <span *ngIf="veiculo.sanitarios">üöª Sanit√°rios </span>
      </p>
    </div>

<!-- Grupo: Cards gerados -->
<div id="generatedCards">
  <div class="card generated-card" *ngFor="let v of cardsGerados; let i = index">
    <h3>{{ v.numeracao }} - {{ v.modelo }}</h3>
    <p>{{ v.marca }} / {{ v.anoModelo }}</p>
    <p>KM: {{ v.kmAtual }}</p>
    <p>Situacao: {{ v.situacao }}</p>
    <p>Placa: {{ v.placa }}</p>
    <p>Lota√ß√£o: {{ v.lotacao }} ({{ v.categoria }})</p>
    <ul>
      <li *ngIf="v.arCondicionado">Ar Condicionado</li>
      <li *ngIf="v.wifi">Wi-Fi</li>
      <li *ngIf="v.poltronaReclinavel">Poltrona Reclin√°vel</li>
      <li *ngIf="v.tv">TV</li>
      <li *ngIf="v.geladeira">Geladeira</li>
      <li *ngIf="v.sanitarios">Sanit√°rios</li>
    </ul>

    <button class="delete-card-btn" (click)="excluirCard(i)">
      <i class="fas fa-trash-alt"></i>
    </button>

    <div class="card-actions">
      <button class="btn red" (click)="excluirCard(i)">Excluir</button>
      <button class="btn blue" (click)="editarCard(i)">Editar</button>
    </div>

    <img [src]="v.imagem" alt="Imagem do ve√≠culo">
    <button class="delete-card-btn" (click)="excluirCard(i)">Excluir</button>
    <button class="btn blue" (click)="atualizarCard(i)">Atualizar</button>

  </div>
</div>

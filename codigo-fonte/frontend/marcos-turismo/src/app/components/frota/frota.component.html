<!-- Bot√£o para abrir o modal -->
<button id="openModalBtn" class="add-btn" (click)="abrirModal()">+</button>
<app-sidebar></app-sidebar>
<button class="add-btn" (click)="abrirModal()">+</button>

<!-- Modal de cadastro -->
<div id="modal" class="modal" [style.display]="modalAberto ? 'flex' : 'none'">
  <div class="card">
    <input type="text"  [(ngModel)]="modeloVeiculo" placeholder="Modelo do ve√≠culo">

    <div class="image-container" (click)="fileInput.click()">
      <img [src]="imagemPreview || 'assets/imagens/sem-imagem.jpg'" alt="Inserir imagem">
      <input type="file" #fileInput (change)="selecionarImagem($event)" accept="image/*" style="display: none;">
    </div>

    <div class="input-container">
      <label for="passageiros">Quantidade de passageiros</label>
      <input type="number" class="input-number" [(ngModel)]="passageiros">
    </div>


    <label for="adicionais">Adicionais</label>
    <div id="adicionais-container">
      <div class="adicional-item" *ngFor="let adicional of adicionais; let i = index">
        <input type="text" [(ngModel)]="adicionais[i]" placeholder="Adicionais">
        <button type="button" class="trash-btn" (click)="removerCampoAdicional(i)"> <i class="fas fa-trash-alt"></i></button>
      </div>
    </div>
    <button type="button" class="ad-btn" (click)="adicionarCampoAdicional()">+</button>

    <div class="buttons">
      <button class="btn green" (click)="gerarCard()">Gerar Card</button>
      <button class="btn red" (click)="fecharModal()">Cancelar</button>
    </div>
  </div>
</div>
<div class="cards-container">
  <div class="veiculo-card" *ngFor="let veiculo of cardsGerados; let i = index">
    <img [src]="veiculo.imagem || 'assets/imagens/sem-imagem.jpg'" alt="Imagem do ve√≠culo" class="veiculo-img">
    
    <div class="veiculo-info">
      <h3>{{ veiculo.modelo }} - {{ veiculo.marca }}</h3>
      <p><strong>Numera√ß√£o:</strong> {{ veiculo.numeracao }}</p>
      <p><strong>Ano Modelo:</strong> {{ veiculo.anoModelo }}</p>
      <p><strong>KM Atual:</strong> {{ veiculo.kmAtual }}</p>
      <p><strong>Situa√ß√£o:</strong> {{ veiculo.situacao }}</p>
      <p><strong>Placa:</strong> {{ veiculo.placa }}</p>
      <p><strong>Lota√ß√£o:</strong> {{ veiculo.lotacao }}</p>
      <p><strong>Categoria:</strong> {{ veiculo.categoria }}</p>
      <p><strong>Opcionais:</strong>
        <span *ngIf="veiculo.arCondicionado">‚ùÑ Ar Condicionado </span>
        <span *ngIf="veiculo.wifi">üì∂ Wi-Fi </span>
        <span *ngIf="veiculo.poltronaReclinavel">üí∫ Poltrona </span>
        <span *ngIf="veiculo.tv">üì∫ TV </span>
        <span *ngIf="veiculo.geladeira">üßä Geladeira </span>
        <span *ngIf="veiculo.sanitarios">üöª Sanit√°rios </span>
      </p>
    </div>

<!-- Cards gerados -->
<div id="generatedCards">
  <div class="card generated-card" *ngFor="let card of cardsGerados; let i = index">
    <div class="header">
      <img src="logo.jpg" alt="Logo">
    </div>
    <h2>{{ card.modelo }}</h2>
    <img [src]="card.imagem" class="vehicle-image">
    <p class="passageiros">{{ card.passageiros }} PASSAGEIROS</p>
    <ul>
      <li *ngFor="let adicional of card.adicionais">{{ adicional }}</li>
    </ul>
    <button class="delete-card-btn" (click)="excluirCard(i)">
      <i class="fas fa-trash-alt"></i>
    </button>

    <div class="card-actions">
      <button class="btn red" (click)="excluirCard(i)">Excluir</button>
      <button class="btn blue" (click)="editarCard(i)">Editar</button>
    </div>
  </div>
</div>


<!-- HTML -->
<app-sidebar></app-sidebar>
<button class="add-btn" (click)="abrirModal()">+</button>

<div class="modal" [style.display]="modalAberto ? 'flex' : 'none'">
  <div class="card">
    
    <!-- Grupo: Campos de texto -->
    <div class="input-group">
      <input type="text" [(ngModel)]="numeracao" placeholder="Numeração">
      <input type="text" [(ngModel)]="modelo" placeholder="Modelo">
      <input type="text" [(ngModel)]="marca" placeholder="Marca">
      <input type="text" [(ngModel)]="anoModelo" placeholder="Ano Modelo">
      <input type="number" [(ngModel)]="kmAtual" placeholder="KM Atual">
    </div>

    <!-- Grupo: Selects -->
    <div class="select-group">
      <select [(ngModel)]="situacao">
        <option value="Ativo">Ativo</option>
        <option value="Inativo">Inativo</option>
        <option value="Manutencao">Manutenção</option>
      </select>
      <input type="text" [(ngModel)]="placa" placeholder="Placa">
      <input type="number" [(ngModel)]="lotacao" placeholder="Lotação">
      <select [(ngModel)]="categoria">
        <option value="Rodoviario">Rodoviário</option>
        <option value="Urbano">Urbano</option>
      </select>
    </div>

    <!-- Grupo: Checkbox de opcionais -->
    <div class="checkbox-group">
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="arCondicionado">
        <span>Ar Condicionado</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="wifi">
        <span>Wi-Fi</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="poltronaReclinavel">
        <span>Poltrona Reclinável</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="tv">
        <span>TV</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="geladeira">
        <span>Geladeira</span>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" [(ngModel)]="sanitarios">
        <span>Sanitários</span>
      </div>
    </div>

    <!-- Grupo: Imagem -->
    <div class="image-container" (click)="fileInput.click()">
      <img [src]="imagemPreview || 'assets/imagens/sem-imagem.jpg'" alt="Inserir imagem">
      <input type="file" #fileInput (change)="selecionarImagem($event)" accept="image/*" hidden>
    </div>

    <!-- Grupo: Botões -->
    <div class="buttons">
      <button class="btn green" (click)="gerarCard()">Salvar</button>
      <button class="btn red" (click)="fecharModal()">Cancelar</button>
    </div>

  </div>
</div>

<!-- Grupo: Cards gerados -->
<div id="generatedCards">
  <div class="card generated-card" *ngFor="let v of cardsGerados; let i = index">
    <h3>{{ v.numeracao }} - {{ v.modelo }}</h3>
    <p>{{ v.marca }} / {{ v.anoModelo }}</p>
    <p>KM: {{ v.kmAtual }}</p>
    <p>Situacao: {{ v.situacao }}</p>
    <p>Placa: {{ v.placa }}</p>
    <p>Lotação: {{ v.lotacao }} ({{ v.categoria }})</p>
    <ul>
      <li *ngIf="v.arCondicionado">Ar Condicionado</li>
      <li *ngIf="v.wifi">Wi-Fi</li>
      <li *ngIf="v.poltronaReclinavel">Poltrona Reclinável</li>
      <li *ngIf="v.tv">TV</li>
      <li *ngIf="v.geladeira">Geladeira</li>
      <li *ngIf="v.sanitarios">Sanitários</li>
    </ul>
    <img [src]="v.imagem" alt="Imagem do veículo">
    <button class="delete-card-btn" (click)="excluirCard(i)">Excluir</button>
    <button class="btn blue" (click)="atualizarCard(i)">Atualizar</button>
  </div>
</div>

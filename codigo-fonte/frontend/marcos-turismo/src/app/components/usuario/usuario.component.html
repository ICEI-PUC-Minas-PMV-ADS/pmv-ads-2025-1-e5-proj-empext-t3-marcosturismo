<app-sidebar></app-sidebar>

<div class="user-card">


  <h2>Cadastro de Usuário</h2>

  <!-- Campos Usuário -->
 
  <label for="nome">Nome</label>
  <input
    type="text"
    id="nome"
    [(ngModel)]="usuarioForm.nome"
    [ngClass]="{'erro': campoTemErro('nome')}"
    placeholder="Digite o nome do usuário">


  <label for="telefone">Telefone</label>
  <input
    type="text"
    id="telefone"
    [(ngModel)]="usuario.telefone"
    [ngClass]="{'erro': campoTemErro('telefone')}">

 
  <label for="status">Status</label>
  <select
    id="status"
    [(ngModel)]="usuarioForm.status"
    [ngClass]="{'erro': campoTemErro('status')}">

    <option value="Ativo">Ativo</option>
    <option value="Inativo">Inativo</option>
    <option value="EmServico">Em Serviço</option>
  </select>

  <label for="categoria">Categoria</label>
  <select
    id="categoria"
    [(ngModel)]="usuarioForm.tipo"
    [ngClass]="{'erro': campoTemErro('tipo')}">
    <option value="Administrador">Administrador</option>
    <option value="Motorista">Motorista</option>
  </select>

  <label for="documento">Documento</label>
  <input
    type="text"
    id="documento"
    [(ngModel)]="usuarioForm.documento"
    [ngClass]="{'erro': campoTemErro('documento')}"
    placeholder="Digite o número do documento">

    <option value="">Selecione o status</option>
    <option value="ativo">Ativo</option>
    <option value="inativo">Inativo</option>
    <option value="servico">Em Serviço</option>
  </select>

  <label for="tipo">Tipo</label>
  <select
    id="tipo"
    [(ngModel)]="usuario.tipo"
    [ngClass]="{'erro': campoTemErro('tipo')}">
    <option value="">Selecione o tipo</option>
    <option value="MOTORISTA">Motorista</option>
    <option value="ADMIN">Administrador</option>
  </select>


  <label for="email">E-mail</label>
  <input
    type="email"
    id="email"
    [(ngModel)]="usuarioForm.email"
    [ngClass]="{'erro': campoTemErro('email')}"
    placeholder="Digite o e-mail">



  <!-- Mensagem -->
  <div *ngIf="mensagem" class="message">
    {{ mensagem }}
  </div>

  <!-- Botões -->

  <div class="button-container">
    <button class="btn cadastrar" (click)="cadastrar()">Cadastrar</button>
    <button class="btn cancelar" (click)="cancelar()">Cancelar</button>
  </div>

  <!-- Incluir Documento (Botão para abrir Modal CNH) -->
  <div class="button-container">
    <button class="btn" (click)="abrirModalCnh()">Incluir Documento (CNH)</button>
  </div>

  <!-- Modal CNH -->
  <div class="modal" [ngClass]="{'modal-show': mostrarModal, 'modal-hide': !mostrarModal}">
    <div class="modal-content">
      <h3>Incluir Documento (CNH)</h3>

      <!-- Navegação entre as partes -->
      <div class="modal-tabs">
        <button [ngClass]="{'active': parteAtiva === 1}" (click)="parteAtiva = 1">Parte 1</button>
        <button [ngClass]="{'active': parteAtiva === 2}" (click)="parteAtiva = 2">Parte 2</button>
      </div>

      <!-- Primeira Parte -->
      <div *ngIf="parteAtiva === 1">
        <label for="modalCnhNome">Nome na CNH</label>
        <input
          type="text"
          id="modalCnhNome"
          [(ngModel)]="cnh.nome"
          [ngClass]="{'erro': campoTemErro('cnhNome')}">

        <label for="modalDataNascimento">Data de Nascimento</label>
        <input
          type="date"
          id="modalDataNascimento"
          [(ngModel)]="cnh.dataNascimento"
          [ngClass]="{'erro': campoTemErro('dataNascimento')}">

        <label for="modalUf">UF</label>
        <input
          type="text"
          id="modalUf"
          [(ngModel)]="cnh.uf"
          [ngClass]="{'erro': campoTemErro('uf')}">

        <label for="modalMunicipio">Município</label>
        <input
          type="text"
          id="modalMunicipio"
          [(ngModel)]="cnh.municipio"
          [ngClass]="{'erro': campoTemErro('municipio')}">

        <label for="modalDataEmissao">Data de Emissão</label>
        <input
          type="date"
          id="modalDataEmissao"
          [(ngModel)]="cnh.dataEmissao"
          [ngClass]="{'erro': campoTemErro('dataEmissao')}">

        <label for="modalDataValidade">Data de Validade</label>
        <input
          type="date"
          id="modalDataValidade"
          [(ngModel)]="cnh.dataValidade"
          [ngClass]="{'erro': campoTemErro('dataValidade')}">
      </div>

      <!-- Segunda Parte -->
      <div *ngIf="parteAtiva === 2">
        <label for="modalRg">RG</label>
        <input
          type="text"
          id="modalRg"
          [(ngModel)]="cnh.rg"
          [ngClass]="{'erro': campoTemErro('rg')}">

        <label for="modalOrg">Orgão Emissor</label>
        <input
          type="text"
          id="modalOrg"
          [(ngModel)]="cnh.org"
          [ngClass]="{'erro': campoTemErro('org')}">

        <label for="modalUfEmissor">UF Emissor</label>
        <input
          type="text"
          id="modalUfEmissor"
          [(ngModel)]="cnh.ufEmissor"
          [ngClass]="{'erro': campoTemErro('ufEmissor')}">

        <label for="modalCpf">CPF</label>
        <input
          type="text"
          id="modalCpf"
          [(ngModel)]="cnh.cpf"
          [ngClass]="{'erro': campoTemErro('cpf')}">

        <label for="modalNumRegistro">Número de Registro</label>
        <input
          type="text"
          id="modalNumRegistro"
          [(ngModel)]="cnh.numRegistro"
          [ngClass]="{'erro': campoTemErro('numRegistro')}">

        <label for="modalCategoriaCnh">Categoria</label>
        <select
          id="modalCategoriaCnh"
          [(ngModel)]="cnh.categoria"
          [ngClass]="{'erro': campoTemErro('categoria')}">
          <option value="" disabled selected>Selecione</option>
          <option value="A">A</option>
          <option value="B">B</option>
          <option value="AB">AB</option>
          <option value="C">C</option>
          <option value="D">D</option>
          <option value="E">E</option>
        </select>

        <label for="modalDataPHabilitacao">Data de Primeira Habilitação</label>
        <input
          type="date"
          id="modalDataPHabilitacao"
          [(ngModel)]="cnh.dataPrimeiraHabilitacao"
          [ngClass]="{'erro': campoTemErro('dataPrimeiraHabilitacao')}">
      </div>

      <div class="button-container">
        <button class="btn cadastrar" (click)="salvarCnh()">Salvar Documento</button>
        <button class="btn cancelar" (click)="fecharModalCnh()">Fechar</button>
      </div>
    </div>
  </div>
</div>
